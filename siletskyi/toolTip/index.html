<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        div {
            width: 100%;
            height: 100vh;
        }
        .tool-tip{
            position: relative;
            cursor: pointer;
            width: 445px;
            margin: 20px;
            color: #828672;
        }
        .tool-tip-text {
            display: none;
            background: rgb(225, 0, 255);
            border-radius: 5px;
            color: white;
            padding: 5px;
            position: absolute;
            top: 20px;
            left: 50px;
            z-index: 2;
            width: 125px;
            box-sizing: border-box;
        }
        .tool-tip-text-active {
            display: inline-block;
        }
    </style>
</head>
<body>
<div>
    <p class="tool-tip" data-tool-tip="підказка номер 1">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, est.
        <span class="tool-tip-text"></span>
    </p>
    <p class="tool-tip" data-tool-tip="підказка номер 2">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, est.
        <span class="tool-tip-text"></span>
    </p>
    <p class="tool-tip" data-tool-tip="підказка номер 3">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, est.
        <span class="tool-tip-text"></span>
    </p>
    <p class="tool-tip" data-tool-tip="підказка номер 4">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolore, est.
        <span class="tool-tip-text"></span>
    </p>
</div>


<script>
    (function () {
            var elem = document.querySelectorAll(".tool-tip");
            console.log(elem);

            function setTool(child) {
                var span = child.firstElementChild;
                span.classList.toggle("tool-tip-text-active");
                span.textContent = child.dataset.toolTip;
                var spanWidth = parseInt(getComputedStyle(span).width);
                var x = event.offsetX;
                var childWidth = parseInt(getComputedStyle(child).width);
                if (x < spanWidth) {
                    span.style.left = x + 'px';
                } else if (x > (childWidth - spanWidth)) {
                    span.style.left = childWidth - spanWidth + 'px';
                } else {
                    span.style.left = x - spanWidth / 2 + 'px';
                }
            }

            for (var i = 0; i < elem.length; i++) {
                elem[i].addEventListener('click', function () {
                    setTool(this);
                });
            }
        }
    )();
</script>
</body>
</html>
